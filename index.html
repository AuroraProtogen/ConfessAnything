<html lang="en"><head>
  <meta charset="UTF-8">
  <title>Confess Anything</title>
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <div class="wrapper">
    <h1>Confess anything to me</h1>
    <div class="subtitle">All confessions are anonymous.</div>
    
    <div class="container">
      <input type="text" id="confession" placeholder="Type your confession..." required />
      <button type="button" onclick="sendConfession()">Send</button>
    </div>
    
    <div class="note">
      I made this with ChatGPT, I ain't a HTML coder.
    </div>
  </div>
</body>

<script>
  function sendConfession() {
    const confession = document.getElementById('confession').value.trim();

    if (!confession) {
      alert("Please type something.");
      return;
    }

    fetch('php/sendwebhook.php', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded'
      },
      body: 'confession=' + encodeURIComponent(confession)
    }).then(response => {
      if (response.ok) {
        alert("Sent anonymously!");
        document.getElementById('confession').value = '';
      } else {
        alert("Failed to send. Server returned status " + response.status);
      }
    }).catch(error => {
      alert("Network error: " + error.message);
    });
  }
</script>

</html>
